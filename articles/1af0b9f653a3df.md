---
title: "å‹•è©ãŒå…ˆã«æ¥ã‚‹è‹±èªã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ€è€ƒè¨€èªã¨ç›¸æ€§ãŒæ‚ªã„ï¼Ÿ"
emoji: "ğŸ¤"
type: "idea" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["å‘½åè¦å‰‡"]
published: true
---

ã“ã‚“ãªã‚³ãƒ¼ãƒ‰ãŒã‚ã£ã¦ã“ã®éƒ¨åˆ†ã‚’1ã¤ã«ã¾ã¨ã‚ãŸã„ã€‚

```ruby
item.x += 1
item.y += 1
item.z += 1
```

ä¸€èˆ¬çš„ãªå‘½åè¦å‰‡ã¯å‹•è©ãŒå…ˆãªã®ã§ item ã‚’ update ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã¯è‡ªç„¶ã¨ update_item ã«ãªã‚‹ã€‚

ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ã«â”€â”€

```ruby
def update_item(item)
  item.x += 1
  item.y += 1
  item.z += 1
end
```

ã“ã®ã‚ˆã†ãªå‘½åè¦å‰‡ã«ã—ã¦ã„ã‚‹æ–¹ã¯å¤šã„ã—ã€ä¸Šã®ä¾‹ã»ã©ã‚·ãƒ³ãƒ—ãƒ«ã§ã¯ãªã„ã‘ã©ã“ã‚“ãªæ„Ÿã˜ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã‚‚ã‚ˆãè¦‹ã‹ã‘ã‚‹ã€‚

ã§ã€ã‚ã‚‹ã¨ãã€ã‚ˆãã‚ˆãè¦‹ãŸã‚‰ã“ã‚Œ item ã«å¯¾ã—ã¦ã®æ›´æ–°ã—ã‹ã—ã¦ãªã„ã—ä»Šå¾Œã‚‚ä½•ã‹å¢—ãˆãã†ãªã®ã§ item ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå´ã§å®šç¾©ã—ãŸ update ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã‚“ã æ–¹ãŒã„ã„ã‚“ã˜ã‚ƒãªã„ã‹ã¨è€ƒãˆã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚

ãã“ã§ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã¨ã“ã†ãªã‚‹â”€â”€

```ruby
def update_item(item)
  item.update
end
```

ã“ã“ã§é•å’Œæ„ŸãŒã‚ã‚‹ã€‚
ãƒ¡ã‚½ãƒƒãƒ‰åãŒ update â†’ item ãªã®ã«å¯¾ã—ã¦ã€å®Ÿéš›ã®å‡¦ç†ã¯ item â†’ update ã¨é€†ã®å˜èªã®ä¸¦ã³ã«ãªã£ã¦ã„ã‚‹ã€‚
ã‚‚ã—ã€æœ€åˆã‹ã‚‰ã€Œã‚¢ã‚¤ãƒ†ãƒ ã‚’æ›´æ–°ã™ã‚‹ã€ã¨æ—¥æœ¬èªã§ç™ºéŸ³ã™ã‚‹ã‹ã®ã‚ˆã†ã« item_update ã¨å‘½åã—ã¦ã„ãŸã‚‰ã©ã†ã ã‚ã†ï¼Ÿ

```ruby
def item_update(item)
end
```

item_update ã¨å‘½åã—ãŸæ™‚ç‚¹ã§ã‚‚ã†ä½•ã‹ãŠã‹ã—ã„ã“ã¨ã«æ°—ã¥ãã‚“ã˜ã‚ƒãªã‹ã‚ã†ã‹ã€‚
item.update ã§ã„ã„ã‚“ã¡ã‚ƒã†ã‚“ã‹ã¨ã€‚
ãªã‚“ã§ã“ã‚“ãªã¨ã“ã‚ã« item_update ãªã‚“ã¦å®šç¾©ã—ã‚ˆã†ã¨ã—ã¦ãŸã‚“ã‹ã¨ã€‚


ä¼¼ãŸã‚ˆã†ãªä¾‹ã¨ã—ã¦ set_xxx ã¨ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã£ã¦ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã¦ã„ãã†ã¡æœ€çµ‚çš„ã« xxx.set ã«ãªã£ãŸã‚Šã™ã‚‹ã‚±ãƒ¼ã‚¹ãŒå¤šã„ã‚ˆã†ã«æ„Ÿã˜ã‚‹ã€‚ã“ã‚Œã‚‚æœ€åˆã‹ã‚‰ xxx_set ã¨ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰åã«ã—ã¦ã„ã‚Œã°ã€ãã®æ™‚ç‚¹ã§ xxx ã® set ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã¶ã¹ãã ã£ãŸã¨çŸ›ç›¾ã«æ°—ã¥ã‘ãŸã¨æ€ãˆã‚‹ã€‚

ã—ãŸãŒã£ã¦å‹•è©ãŒå…ˆã«æ¥ã‚‹è‹±èªã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ€è€ƒè¨€èªã¨ç›¸æ€§ãŒæ‚ªã„(å°å£°)

## ãŠã¾ã‘

Ruby ã«ã¯ set ã§å§‹ã¾ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ãªã‚“ã‹ãªã„ã®ã§ã‚ã‹ã‚Šã‚„ã™ã„ã¨æ›¸ã“ã†ã¨ã—ãŸã‚‰ã‘ã£ã“ã†ã‚ã£ãŸã‚ã€‚

```ruby
methods = ObjectSpace.each_object(Module).collect_concat(&:instance_methods).uniq
puts methods.grep(/^set/)
# >> set_backtrace
# >> setuid
# >> setgid
# >> setruid
# >> setrgid
# >> seteuid
# >> setegid
# >> setreuid
# >> setregid
# >> setresuid
# >> setresgid
# >> set_trace_func
# >> setpgrp
# >> setpgid
# >> setsid
# >> setpriority
# >> setrlimit
# >> setproctitle
# >> setuid?
# >> setgid?
# >> set_encoding
# >> setbyte
```

`_set` ã§çµ‚ã‚ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã¯â”€â”€

```ruby
methods = ObjectSpace.each_object(Module).collect_concat(&:instance_methods).uniq
puts methods.grep(/_set$/)
# >> const_set
# >> class_variable_set
# >> instance_variable_set
# >> source_set
# >> thread_variable_set
# >> local_variable_set
```

ã„ã‚„ã‚‚ã†çµ±ä¸€ã—ã¦

