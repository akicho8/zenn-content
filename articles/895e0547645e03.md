---
title: "【Ruby脳向け】RustのString系メソッド対応"
emoji: "🤖"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Rust", "Ruby", "String", "文字列"]
published: false
---

| Ruby         | Rust   |
|--------------|--------|
| select! 類似 | retain |


## `select! 類似` → `retain`
```ruby:Ruby
class String
  def retain(&block)
    replace(each_char.select(&block).join)
  end
end

s = "f_o_o"
s.retain { |e| e != "_" }
s # => "foo"

s = "f_o_o"
s.delete!("_")
s # => "foo"
```
```rust:Rust
let mut s = String::from("f_o_o");
s.retain(|e| e != '_'); // "_" では文字列を表すのでコンパイルエラー
s // => "foo"
```
この例では `remove_matches("_")` のほうが良い
 
