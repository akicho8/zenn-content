---
title: "ã€Rubyè„³å‘ã‘ã€‘Rustã®Stringç³»ãƒ¡ã‚½ãƒƒãƒ‰å¯¾å¿œ"
emoji: "ğŸ¶"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Rust", "Ruby", "String", "æ–‡å­—åˆ—"]
published: true
---

| Ruby                   | Rust                    |
|------------------------|-------------------------|
| bytesize               | len                     |
| []                     | get                     |
| chars                  | chars                   |
| size                   | chars.count             |
| to_i                   | parse::\<isize\>()      |
| lines(chomp: true)     | lines                   |
| strip                  | trim                    |
| lstrip                 | trim_start              |
| rstrip                 | trim_end                |
| split                  | split_whitespace        |
| split(x)               | split(x)                |
| gsub!(str, "")         | remove_matches(str)     |
| concat(str)            | push_str(str)           |
| concat(ch)             | push(ch)                |
| self * n               | repeat(n)               |
| clear                  | clear                   |
| empty?                 | is_empty                |
| include?               | contains                |
| chars.each.with_index  | char_indices            |
| inspect                | escape_debug            |
| gsub                   | replace                 |
| gsub æœ€åˆã®nå›ã ã‘     | replacen                |
| insert(i, str)         | insert_str(i, str)      |
| insert(i, ch)          | insert(i, ch)           |
| new                    | new                     |
| bytes                  | into_bytes              |
| bytes                  | as_bytes                |
| bytes                  | as_mut_vec              |
| slice!(n..)            | truncate(n)             |
| slice!(-1)             | pop                     |
| slice!(i)              | remove(i)               |
| select! é¡ä¼¼           | retain                  |
| slice!(i..)            | split_off(i)            |
| [range] = v            | replace_range(range, v) |
| slice                  | get_mut                 |
| split(x).reverse       | rsplit(x)               |
| split(/(?\<=x)/)       | split_inclusive(x)      |
| split(x)               | split_terminator(x)     |
| split(x).reverse       | rsplit_terminator(x)    |
| split(sep, n)          | splitn(n, sep)          |
| split æœ«å°¾ã‹ã‚‰         | rsplitn(n, sep)         |
| split(sep, 2)          | split_once(sep)         |
| split(sep, 2) æœ«å°¾ã‹ã‚‰ | rsplit_once(sep)        |
| scan                   | matches                 |
| reverse.scan           | rmatches                |
| start_with?            | starts_with             |
| end_with?              | ends_with               |
| ascii_only?            | is_ascii                |
| index                  | find                    |
| rindex                 | rfind                   |
| strip é¡ä¼¼             | trim_matches            |
| lstrip é¡ä¼¼            | trim_start_matches      |
| rstrip é¡ä¼¼            | trim_end_matches        |
| delete_prefix          | strip_prefix            |
| delete_suffix          | strip_suffix            |
| casecmp?(other)        | eq_ignore_ascii_case    |
| upcase                 | to_uppercase            |
| downcase               | to_lowercase            |
| tr("a-z", "A-Z")       | to_ascii_uppercase      |
| tr("A-Z", "a-z")       | to_ascii_lowercase      |
| tr!("a-z", "A-Z")      | make_ascii_uppercase    |
| tr!("A-Z", "a-z")      | make_ascii_lowercase    |
| ?                      | match_indices           |
| ?                      | rmatch_indices          |
| dump ä¸€éƒ¨unicode       | escape_default          |
| dump å…¨éƒ¨unicode       | escape_unicode          |
| to_s                   | to_string               |
| to_s                   | as_str                  |
| to_s æ›´æ–°ç”¨            | as_mut_str              |
| ary.pack("C*")         | from_utf8(ary)          |
| ary.pack("C*").scrub   | from_utf8_lossy(ary)    |
| new(capacity: xxx)     | with_capacity(xxx)      |
| ?                      | reserve(size)           |
| ?                      | shrink_to_fit           |
| ?                      | into_raw_parts          |
| ?                      | from_raw_parts          |
| ?                      | into_boxed_str          |
| ?                      | is_char_boundary        |
| ?                      | as_ptr                  |
| ?                      | as_mut_ptr              |


## `bytesize` â†’ `len`
```ruby:Ruby
"ğŸ¥‘".bytesize  # => 4
```
```rust:Rust
"ğŸ¥‘".len()  // => 4
```
Ruby ã®é…åˆ—ã¯æ–‡å­—å˜ä½ã«ãªã£ã¦ã„ã‚‹ã®ã«å¯¾ã—ã¦ Rust ã¯ãƒã‚¤ãƒˆå˜ä½ã®é…åˆ—ã«ãªã£ã¦ã„ã‚‹
 
## `[]` â†’ `get`
```ruby:Ruby
s = "AğŸ¥‘B"
s[0] # => "A"
s[1] # => "ğŸ¥‘"
s[2] # => "B"
```
```rust:Rust
let s = "AğŸ¥‘B";
s.get(0..1) // => Some("A")
s.get(1..5) // => Some("ğŸ¥‘")
s.get(5..6) // => Some("B")
```
- ç¯„å›²ã§ã—ã‹æŒ‡å®šã§ããªã„
- Rustã§ã¯ãƒãƒ«ãƒãƒã‚¤ãƒˆæ–‡å­—ã‚’å«ã‚€æ–‡å­—åˆ—ã®æ“ä½œãŒé›£ã—ãã†ã 
 
## `chars` â†’ `chars`
```ruby:Ruby
"Aã‚ğŸ¥‘".chars       # => ["A", "ã‚", "ğŸ¥‘"]
"Aã‚ğŸ¥‘".codepoints  # => [65, 12354, 129361]
```
```rust:Rust
"Aã‚ğŸ¥‘".chars().collect::<Vec<_>>() // => ['A', 'ã‚', 'ğŸ¥‘']
```
æ–‡å­—å˜ä½ã§æ‰±ã†å ´åˆã¯ã•ã£ã•ã¨ã“ã‚Œã§é…åˆ—åŒ–ã—ã¦ã‹ã‚‰æ“ä½œã—ãŸæ–¹ãŒã‚ˆã•ãã†
 
## `size` â†’ `chars.count`
```ruby:Ruby
"ğŸ¥‘".size  # => 1
```
```rust:Rust
"ğŸ¥‘".chars().count()  // => 1
```
æ–‡å­—æ•°
 
## `to_i` â†’ `parse::<isize>()`
```ruby:Ruby
"567".to_i # => 567
```
```rust:Rust
"567".parse::<isize>() // => Ok(567)

let v: isize = "567".parse().unwrap();
v // => 567
```
- `::<xxx>` ã®éƒ¨åˆ†ã‚’ã‚¿ãƒ¼ãƒœãƒ•ã‚£ãƒƒã‚·ãƒ¥ã¨ã„ã†ã‚‰ã—ã„
- æˆ»å€¤ã‚’å—ã‘å–ã‚‹å¤‰æ•°ã«å‹æŒ‡å®šãŒã‚ã‚Œã°çœç•¥ã§ãã‚‹ã‚ˆã†ã ã‘ã© parse ã®æ–¹ã«æŒ‡å®šã—ãŸæ–¹ãŒã‚ã‹ã‚Šã‚„ã™ã„
 
## `lines(chomp: true)` â†’ `lines`
```ruby:Ruby
"foo\nbar\nbaz\n".lines(chomp: true) # => ["foo", "bar", "baz"]
```
```rust:Rust
"foo\nbar\nbaz\n".lines().collect::<Vec<_>>() // => ["foo", "bar", "baz"]
```
 
## `strip` â†’ `trim`
```ruby:Ruby
" foo ".strip # => "foo"
```
```rust:Rust
" foo ".trim() // => "foo"
```
 
## `lstrip` â†’ `trim_start`
```ruby:Ruby
" foo ".lstrip # => "foo "
```
```rust:Rust
" foo ".trim_start() // => "foo "
```
 
## `rstrip` â†’ `trim_end`
```ruby:Ruby
" foo ".rstrip # => " foo"
```
```rust:Rust
" foo ".trim_end() // => " foo"
```
 
## `split` â†’ `split_whitespace`
```ruby:Ruby
" a\r\n bã€€c\n".gsub(/[[:space:]]+/, " ").split # => ["a", "b", "c"]
```
```rust:Rust
" a\r\n bã€€c\n".split_whitespace().collect::<Vec<_>>() // => ["a", "b", "c"]
```
- å…¨è§’ã‚¹ãƒšãƒ¼ã‚¹ã«å¯¾å¿œã—ã¦ã„ã‚‹
- ä½¿ã„ã‚„ã™ãã†
 
## `split(x)` â†’ `split(x)`
```ruby:Ruby
"a-b-c".split("-")    # => ["a", "b", "c"]
"a-b_c".split(/[-_]/) # => ["a", "b", "c"]
```
```rust:Rust
"a-b-c".split('-').collect::<Vec<_>>()          // => ["a", "b", "c"]
"a-b-c".split(|e| e == '-').collect::<Vec<_>>() // => ["a", "b", "c"]
"a-b_c".split(['-', '_']).collect::<Vec<_>>()   // => ["a", "b", "c"]
```
 
## `gsub!(str, "")` â†’ `remove_matches(str)`
```ruby:Ruby
s = "foo_bar"
s.gsub!("bar", "")
s # => "foo_"
```
```rust:Rust (nightly)
let mut s = String::from("foo_bar");
s.remove_matches("bar");
s // => "foo_"
```
 
## `concat(str)` â†’ `push_str(str)`
```ruby:Ruby
s = "foo"
s.concat("bar")
s  # => "foobar"
```
```rust:Rust
let mut s = String::from("foo");
s.push_str("bar");
s  // => "foobar"
```
ãƒ¡ã‚½ãƒƒãƒ‰åãŒã‚¤ã‚±ã¦ãªã„
 
## `concat(ch)` â†’ `push(ch)`
```ruby:Ruby
s = "foo"
s.concat('b')
s.concat('a')
s.concat('r')
s  # => "foobar"
```
```rust:Rust
let mut s = String::from("foo");
s.push('b');
s.push('a');
s.push('r');
s  // => "foobar"
```
ã“ã‚“ãªæ»…å¤šã«ä½¿ã‚ãªãã†ãªã®ã¯ push_char ã«ã—ã¦ push_str ã‚’ push ã«ã—ã¦ã»ã—ã‹ã£ãŸ
 
## `self * n` â†’ `repeat(n)`
```ruby:Ruby
"foo" * 2 # => "foofoo"
```
```rust:Rust
"foo".repeat(2) // => "foofoo"
```
 
## `clear` â†’ `clear`
```ruby:Ruby
s = "foo"
s.clear
s  # => ""
```
```rust:Rust
let mut s = String::from("foo");
s.clear();
s  // => ""
```
 
## `empty?` â†’ `is_empty`
```ruby:Ruby
"".empty?  # => true
```
```rust:Rust
"".is_empty()  // => true
```
 
## `include?` â†’ `contains`
```ruby:Ruby
"abcd".include?("bc") # => true
```
```rust:Rust
"abcd".contains("bc") // => true
```
 
## `chars.each.with_index` â†’ `char_indices`
```ruby:Ruby
"Aã‚ğŸ¥‘".chars.each.with_index.entries # => [["A", 0], ["ã‚", 1], ["ğŸ¥‘", 2]]
```
```rust:Rust
"Aã‚ğŸ¥‘".char_indices().collect::<Vec<_>>() // => [(0, 'A'), (1, 'ã‚'), (4, 'ğŸ¥‘')]
```
- Rust ã®ã»ã†ã®ä½ç½®ã¯é€£ç•ªã§ã¯ãªã„
- ãƒã‚¤ãƒˆé…åˆ—ã§ã®ä½ç½®ã«ãªã£ã¦ã„ã‚‹
 
## `inspect` â†’ `escape_debug`
```ruby:Ruby
"AğŸ¥‘\n".inspect  # => "\"AğŸ¥‘\\n\""
```
```rust:Rust
"AğŸ¥‘\n".escape_debug().to_string()    // => "AğŸ¥‘\\n"
```
æ”¹è¡ŒãŒã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã•ã‚Œ `\n` è¡¨è¨˜ã«ãªã‚‹
 
## `gsub` â†’ `replace`
```ruby:Ruby
"abcabcabc".gsub("ab", "__") # => "__c__c__c"
```
```rust:Rust
"abcabcabc".replace("ab", "__") // => "__c__c__c"
```
 
## `gsub æœ€åˆã®nå›ã ã‘` â†’ `replacen`
```ruby:Ruby
# ã‚‚ã£ã¨ã¾ã—ãªæ–¹æ³•ã‚ã‚Šãã†
n = 2
c = 0
s = "abcabcabc".gsub("ab") do |m|
  c += 1
  if c <= n
    "__"
  else
    m
  end
end
s # => "__c__cabc"
```
```rust:Rust
"abcabcabc".replacen("ab", "__", 2) // => "__c__cabc"
```
 
## `insert(i, str)` â†’ `insert_str(i, str)`
```ruby:Ruby
s = "foo"
s.insert(1, "__")
s # => "f__oo"
```
```rust:Rust
let mut s = String::from("foo");
s.insert_str(1, "__"); // æ–‡å­—åˆ—
s // => "f__oo"
```
ãƒ¡ã‚½ãƒƒãƒ‰åãŒã‚¤ã‚±ã¦ãªã„
 
## `insert(i, ch)` â†’ `insert(i, ch)`
```ruby:Ruby
s = "foo"
s.insert(1, "_")
s # => "f_oo"
```
```rust:Rust
let mut s = String::from("foo");
s.insert(1, '_'); // æ–‡å­—
s // => "f_oo"
```
 
## `new` â†’ `new`
```ruby:Ruby
s = String.new
s  # => ""
```
```rust:Rust
let s = String::new();
s  // => ""
```
 
## `bytes` â†’ `into_bytes`
```ruby:Ruby
"abc".bytes # => [97, 98, 99]
```
```rust:Rust
String::from("abc").into_bytes() // => [97, 98, 99]
```
æ‰€æœ‰æ¨©ãŒç§»å‹•ã™ã‚‹ã‚„ã¤ï¼Ÿ
 
## `bytes` â†’ `as_bytes`
```ruby:Ruby
"abc".bytes # => [97, 98, 99]
```
```rust:Rust
"abc".as_bytes() // => [97, 98, 99]
b"abc"           // => [97, 98, 99]
```
å‹å¤‰æ›ï¼Ÿ è¡¨è¨˜ãŒã‚¢ãƒ¬ã ã‘ã© `b` ã‚’ã¤ã‘ã¦ã‚‚åŒã˜çµæœã«ãªã‚‹
 
## `bytes` â†’ `as_mut_vec`
```ruby:Ruby
"abc".bytes # => [97, 98, 99]
```
```rust:Rust
let mut s = String::from("abc");
let v = unsafe { s.as_mut_vec() };
v // => [97, 98, 99]
```
åŒã˜ã‚ˆã†ãªã®ãŒã„ãã¤ã‚‚ã‚ã‚‹ãª
 
## `slice!(n..)` â†’ `truncate(n)`
```ruby:Ruby
s = "foobar"
s.slice!(3..) # => "bar"
s             # => "foo"

s = "AğŸ¥‘B"
s.slice!(2..) # => "B"
s             # => "AğŸ¥‘"
```
```rust:Rust
// truncate ã—ãŸéƒ¨åˆ†ã‚’è¿”ã—ãŸã‚Šã¯ã—ãªã„
let mut s = String::from("foobar");
s.truncate(3) // => ()
s             // => "foo"

// ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã‚‹
// let mut s = String::from("AğŸ¥‘B");
// s.truncate(2)
```
ãƒãƒ«ãƒãƒã‚¤ãƒˆæ–‡å­—ãŒå«ã¾ã‚Œã¦ã„ãŸã‚‰æ–‡å­—ã®å¢ƒç•Œç·šã‚’æ…é‡ã«æŒ‡å®šã—ãªã„ã¨ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã‚‹
 
## `slice!(-1)` â†’ `pop`
```ruby:Ruby
s = "foobar"
s.slice!(-1) # => "r"
s            # => "fooba"
```
```rust:Rust
let mut s = String::from("foobar");
s.pop() // => Some('r')
s       // => "fooba"
```
 
## `slice!(i)` â†’ `remove(i)`
```ruby:Ruby
s = "foobar"
s.slice!(3) # => "b"
s           # => "fooar"
```
```rust:Rust
let mut s = String::from("foobar");
s.remove(3) // => 'b'
s           // => "fooar"
```
 
## `select! é¡ä¼¼` â†’ `retain`
```ruby:Ruby
class String
  def retain(&block)
    replace(each_char.select(&block).join)
  end
end

s = "f_o_o"
s.retain { |e| e != "_" }
s # => "foo"

s = "f_o_o"
s.delete!("_")
s # => "foo"
```
```rust:Rust
let mut s = String::from("f_o_o");
s.retain(|e| e != '_'); // "_" ã§ã¯æ–‡å­—åˆ—ã‚’è¡¨ã™ã®ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
s // => "foo"
```
ã“ã®ä¾‹ã§ã¯ `remove_matches("_")` ã®ã»ã†ãŒè‰¯ã„
 
## `slice!(i..)` â†’ `split_off(i)`
```ruby:Ruby
s = "foo"
s.slice!(1..)  # => "oo"
s              # => "f"

s = "foo"
s.byteslice(1...)            # => "oo"
s.replace(s.byteslice(...1))
s                            # => "f"
```
```rust:Rust
let mut s = String::from("foo");
s.split_off(1) // => "oo"
s              // => "f"
```
æ­£ç¢ºã«ã¯ byteslice ã®ç ´å£Šç‰ˆã«è¿‘ã„
 
## `[range] = v` â†’ `replace_range(range, v)`
```ruby:Ruby
s = "abcd"
s[...2] = "__"
s  # => "__cd"
```
```rust:Rust
let mut s = String::from("abcd");
s.replace_range(..2, "__");
s  // => "__cd"
```
 
## `slice` â†’ `get_mut`
```ruby:Ruby
"foo".slice(0..1).upcase # => "FO"
```
```rust:Rust
let mut s = String::from("foo");
let s = s.get_mut(0..=1);
let s = s.map(|e| {         // e ã¯ "fo"
    e.make_ascii_uppercase();
    &*e
});
s // => Some("FO")
```
ãªã‚“ã ã“ã‚Œ
 
## `split(x).reverse` â†’ `rsplit(x)`
```ruby:Ruby
"a-b-c".split("-").reverse # => ["c", "b", "a"]
```
```rust:Rust
"a-b-c".rsplit('-').collect::<Vec<_>>()  // => ["c", "b", "a"]
```
 
## `split(/(?<=x)/)` â†’ `split_inclusive(x)`
```ruby:Ruby
"a-b-c".split(/(?<=-)/)  # => ["a-", "b-", "c"]
```
```rust:Rust
"a-b-c".split_inclusive('-').collect::<Vec<_>>() // => ["a-", "b-", "c"]
```
ã‚»ãƒ‘ãƒ¬ãƒ¼ã‚¿ã§åˆ†ã‘ã¦å‰ã®è¦ç´ ã«æ®‹ã™
 
## `split(x)` â†’ `split_terminator(x)`
```ruby:Ruby
"a-b-c-".split("-") # => ["a", "b", "c"]
```
```rust:Rust
"a-b-c-".split_terminator("-").collect::<Vec<_>>() // => ["a", "b", "c"]
```
ã‚»ãƒ‘ãƒ¬ãƒ¼ã‚¿ã§ã¯ãªãå¥ç‚¹ã®ã‚ˆã†ã«çµ‚ç«¯ã«ç‰¹å®šã®æ–‡å­—ãŒã‚ã‚‹æ§‹é€ ã‚’åˆ†ã‘ã‚‹
 
## `split(x).reverse` â†’ `rsplit_terminator(x)`
```ruby:Ruby
"a-b-c-".split("-").reverse # => ["c", "b", "a"]
```
```rust:Rust
"a-b-c-".rsplit_terminator("-").collect::<Vec<_>>() // => ["c", "b", "a"]
```
 
## `split(sep, n)` â†’ `splitn(n, sep)`
```ruby:Ruby
"foo-bar-baz".split("-", 2) # => ["foo", "bar-baz"]
```
```rust:Rust
"foo-bar-baz".splitn(2, "-").collect::<Vec<_>>() // => ["foo", "bar-baz"]
```
 
## `split æœ«å°¾ã‹ã‚‰` â†’ `rsplitn(n, sep)`
```ruby:Ruby
"foo-bar-baz".reverse.split("-", 2).collect(&:reverse) # => ["baz", "foo-bar"]
```
```rust:Rust
"foo-bar-baz".rsplitn(2, "-").collect::<Vec<_>>() // => ["baz", "foo-bar"]
```
 
## `split(sep, 2)` â†’ `split_once(sep)`
```ruby:Ruby
"foo-bar-baz".split("-", 2) # => ["foo", "bar-baz"]
```
```rust:Rust
"foo-bar-baz".split_once("-") // => Some(("foo", "bar-baz"))
```
 
## `split(sep, 2) æœ«å°¾ã‹ã‚‰` â†’ `rsplit_once(sep)`
```ruby:Ruby
s = "foo-bar-baz".reverse.split("-", 2)
s.collect(&:reverse).reverse # => ["foo-bar", "baz"]
```
```rust:Rust
"foo-bar-baz".rsplit_once("-") // => Some(("foo-bar", "baz"))
```
 
## `scan` â†’ `matches`
```ruby:Ruby
"_56_".scan(/\d/) # => ["5", "6"]
```
```rust:Rust
"_56_".matches(char::is_numeric).collect::<Vec<_>>() // => ["5", "6"]
```
äºˆæƒ³ã«åã—ã¦1æ–‡å­—ã¥ã¤è¿”ã£ã¦ãã‚‹
 
## `reverse.scan` â†’ `rmatches`
```ruby:Ruby
"_56_".reverse.scan(/\d/) # => ["6", "5"]
```
```rust:Rust
"_56_".rmatches(char::is_numeric).collect::<Vec<_>>() // => ["6", "5"]
```
 
## `start_with?` â†’ `starts_with`
```ruby:Ruby
"abcd".start_with?("ab") # => true
```
```rust:Rust
"abcd".starts_with("ab") // => true
```
 
## `end_with?` â†’ `ends_with`
```ruby:Ruby
"abcd".end_with?("cd") # => true
```
```rust:Rust
"abcd".ends_with("cd") // => true
```
 
## `ascii_only?` â†’ `is_ascii`
```ruby:Ruby
"foo".ascii_only? # => true
```
```rust:Rust
"foo".is_ascii() // => true
```
 
## `index` â†’ `find`
```ruby:Ruby
s = "abcdabcd"
s.index("c")                   # => 2
s.index("cd")                  # => 2
s.chars.index { |e| e == 'c' } # => 2
```
```rust:Rust
let s = "abcdabcd";
s.find('c')           // => Some(2)
s.find("cd")          // => Some(2)
s.find(|e| e == 'c')  // => Some(2)
```
xxx, xxx_by, xxx_by_key ã‚·ãƒªãƒ¼ã‚ºã®ã‚ˆã†ã«å¼•æ•°ã®å‹ãŒå¤‰ã‚ã‚‹ãŸã³ã«ç•°ãªã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã«ãªã‚‹ã®ãŒ Rust æµã‹ã¨æ€ã„ãã‚„ã€ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã„ã‚ã‚“ãªå¼•æ•°ã«å¯¾å¿œã—ã¦ã„ã¦ã‚ã‚ŠãŒãŸã„
 
## `rindex` â†’ `rfind`
```ruby:Ruby
s = "abcdabcd"
s.rindex("c")                   # => 6
s.rindex("cd")                  # => 6
s.chars.rindex { |e| e == 'c' } # => 6
```
```rust:Rust
let s = "abcdabcd";
s.rfind('c')           // => Some(6)
s.rfind("cd")          // => Some(6)
s.rfind(|e| e == 'c')  // => Some(6)
```
 
## `strip é¡ä¼¼` â†’ `trim_matches`
```ruby:Ruby
"56foo78".sub(/\A\d+(.*?)\d*\z/, '\1') # => "foo"
```
```rust:Rust
"56foo78".trim_matches(char::is_numeric) // => "foo"
```
 
## `lstrip é¡ä¼¼` â†’ `trim_start_matches`
```ruby:Ruby
"56foo78".sub(/\A\d+/, "") # => "foo78"
```
```rust:Rust
"56foo78".trim_start_matches(char::is_numeric) // => "foo78"
```
 
## `rstrip é¡ä¼¼` â†’ `trim_end_matches`
```ruby:Ruby
"56foo78".sub(/\d+\z/, "") # => "56foo"
```
```rust:Rust
"56foo78".trim_end_matches(char::is_numeric) // => "56foo"
```
 
## `delete_prefix` â†’ `strip_prefix`
```ruby:Ruby
"56foo56".delete_prefix("56") # => "foo56"
```
```rust:Rust
"56foo56".strip_prefix("56") // => Some("foo56")
```
 
## `delete_suffix` â†’ `strip_suffix`
```ruby:Ruby
"56foo56".delete_suffix("56") # => "56foo"
```
```rust:Rust
"56foo56".strip_suffix("56") // => Some("56foo")
```
 
## `casecmp?(other)` â†’ `eq_ignore_ascii_case`
```ruby:Ruby
"FÃ¶Ã¶".casecmp?("fÃ¶Ã¶") # => true
```
```rust:Rust
"FÃ¶Ã¶".eq_ignore_ascii_case("fÃ¶Ã¶") // => true
```
 
## `upcase` â†’ `to_uppercase`
```ruby:Ruby
"aAÃ¶Ã–â¤".upcase # => "AAÃ–Ã–â¤"
```
```rust:Rust
"aAÃ¶Ã–â¤".to_uppercase() // => "AAÃ–Ã–â¤"
```
 
## `downcase` â†’ `to_lowercase`
```ruby:Ruby
"aAÃ¶Ã–â¤".downcase # => "aaÃ¶Ã¶â¤"
```
```rust:Rust
"aAÃ¶Ã–â¤".to_lowercase() // => "aaÃ¶Ã¶â¤"
```
 
## `tr("a-z", "A-Z")` â†’ `to_ascii_uppercase`
```ruby:Ruby
"aAÃ¶Ã–â¤".tr("a-z", "A-Z") # => "AAÃ¶Ã–â¤"
```
```rust:Rust
"aAÃ¶Ã–â¤".to_ascii_uppercase() // => "AAÃ¶Ã–â¤"
```
 
## `tr("A-Z", "a-z")` â†’ `to_ascii_lowercase`
```ruby:Ruby
"aAÃ¶Ã–â¤".tr("A-Z", "a-z") # => "aaÃ¶Ã–â¤"
```
```rust:Rust
"aAÃ¶Ã–â¤".to_ascii_lowercase() // => "aaÃ¶Ã–â¤"
```
 
## `tr!("a-z", "A-Z")` â†’ `make_ascii_uppercase`
```ruby:Ruby
s = "aAÃ¶Ã–â¤"
s.tr!("a-z", "A-Z")
s # => "AAÃ¶Ã–â¤"
```
```rust:Rust
let mut s = String::from("aAÃ¶Ã–â¤");
s.make_ascii_uppercase();
s // => "AAÃ¶Ã–â¤"
```
 
## `tr!("A-Z", "a-z")` â†’ `make_ascii_lowercase`
```ruby:Ruby
s = "aAÃ¶Ã–â¤"
s.tr!("A-Z", "a-z")
s # => "aaÃ¶Ã–â¤"
```
```rust:Rust
let mut s = String::from("aAÃ¶Ã–â¤");
s.make_ascii_lowercase();
s // => "aaÃ¶Ã–â¤"
```
 
## `?` â†’ `match_indices`
```ruby:Ruby
"_56_".chars.filter_map.with_index { |e, i| [i, e] if e.match?(/\d/) } # => [[1, "5"], [2, "6"]]
```
```rust:Rust
"_56_".match_indices(char::is_numeric).collect::<Vec<_>>() // => [(1, "5"), (2, "6")]
```
 
## `?` â†’ `rmatch_indices`
```ruby:Ruby
"_56_".chars.filter_map.with_index { |e, i| [i, e] if e.match?(/\d/) }.reverse # => [[2, "6"], [1, "5"]]
```
```rust:Rust
"_56_".rmatch_indices(char::is_numeric).collect::<Vec<_>>() // => [(2, "6"), (1, "5")]
```
 
## `dump ä¸€éƒ¨unicode` â†’ `escape_default`
```ruby:Ruby
"AğŸ¥‘\n".dump  # => "\"A\\u{1F951}\\n\""
```
```rust:Rust
"AğŸ¥‘\n".escape_default().to_string()    // => "A\\u{1f951}\\n"
```
- çµµæ–‡å­—ã¯ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰ã®æ•°å­—è¡¨è¨˜ã«ãªã‚‹
- ã¡ã‚‡ã†ã©è‰¯ã„
 
## `dump å…¨éƒ¨unicode` â†’ `escape_unicode`
```ruby:Ruby
"AğŸ¥‘\n".dump  # => "\"A\\u{1F951}\\n\""
```
```rust:Rust
"AğŸ¥‘\n".escape_unicode().to_string()    // => "\\u{41}\\u{1f951}\\u{a}"
```
- å…¨éƒ¨ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰ã®æ•°å­—è¡¨è¨˜ã«ãªã‚‹
- æ”¹è¡Œã‚‚ a ã«ãªã£ã¦ä½™è¨ˆã‚ã‹ã‚‰ã‚“
 
## `to_s` â†’ `to_string`
```rust:Rust
"foo".to_string() // => "foo"
```
 
## `to_s` â†’ `as_str`
```ruby:Ruby
"abc".to_s # => "abc"
```
```rust:Rust
String::from("abc").as_str() // => "abc"
```
- Stringå‹ã«ã—ã‹ç”Ÿãˆã¦ãªã„
- to_string ã¨ä½•ãŒé•ã†ï¼Ÿ
 
## `to_s æ›´æ–°ç”¨` â†’ `as_mut_str`
```ruby:Ruby
"abc".to_s # => "abc"
```
```rust:Rust
let mut x = String::from("abc");
let s = x.as_mut_str(); // let mut ã¨æ›¸ã‹ãªãã¦ã„ã„ã®ã‹ãªï¼Ÿ
s.make_ascii_uppercase();
s // => "ABC"

// ã“ã‚Œã¨åŒã˜ã ã‘ã©ã€ã©ã†ã„ã†ã“ã¨ï¼Ÿï¼Ÿï¼Ÿ
let mut s = String::from("abc");
s.make_ascii_uppercase();
s // => "ABC"
```
ãªã‚“ã‹ã‚ˆãã‚ã‹ã‚‰ãªã„ã‘ã©ãã®ã†ã¡ã‚ã‹ã‚‹ã ã‚ã†
 
## `ary.pack("C*")` â†’ `from_utf8(ary)`
```ruby:Ruby
puts [240, 159, 144, 178].pack("C*")
# >> ğŸ²
```
```rust:Rust
String::from_utf8(vec![240, 159, 144, 178]) // => Ok("ğŸ²")
```
 
## `ary.pack("C*").scrub` â†’ `from_utf8_lossy(ary)`
```rust:Rust
let v = vec![102, 111, 111, 129, 98, 97, 114];
String::from_utf8_lossy(&v) // => "fooï¿½bar"
```
129 ã¯ç„¡åŠ¹ãªæ–‡å­—ãªã®ã§ ï¿½ ã«ãªã‚‹
 
## `new(capacity: xxx)` â†’ `with_capacity(xxx)`
```ruby:Ruby
s = String.new(capacity: 65535)
s  # => ""
# capacity è¦‹ã‚Œã‚“ã®ï¼Ÿ
```
```rust:Rust
let s = String::with_capacity(65535);
s            // => ""
s.capacity() // => 65535
```
 
## `?` â†’ `reserve(size)`
```rust:Rust
let mut s = String::from("foo");
s.capacity() // => 3
s.reserve(65535);
s.capacity() // => 65538
```
- ã‚ã¨ã‹ã‚‰å®¹é‡ã‚’ç¢ºä¿ã™ã‚‹
- ã‚­ãƒªã®è‰¯ã„å˜ä½ã§ç¢ºä¿ã™ã‚‹ã®ã§æŒ‡å®šã‚ˆã‚Šã‚‚å¤šãç¢ºä¿ã™ã‚‹ã“ã¨ã‚‚ã‚ã‚‹
 
## `?` â†’ `shrink_to_fit`
```rust:Rust
let mut s = String::from("foo");
s.capacity() // => 3
s.reserve(65535);
s.capacity() // => 65538
s.shrink_to_fit();
s.capacity() // => 3
```
reserve ã®é€†ã§ãƒ¡ãƒ¢ãƒªã‚’åˆ‡ã‚Šè©°ã‚ã‚‹
 
## `?` â†’ `into_raw_parts`
```rust:Rust (nightly)
let s = String::from("foo");
let (ptr, len, cap) = s.into_raw_parts();
ptr // => 0x7fb98ac05eb0
len // => 3
cap // => 3
```
æ–‡å­—åˆ—ã‚’ã•ã‚‰ã«ãƒ©ãƒƒãƒ—ã—ã¦ã„ã‚‹ã‚‰ã—ã„
 
## `?` â†’ `from_raw_parts`
```rust:Rust
use std::mem;
let s = String::from("foo");
let mut s = mem::ManuallyDrop::new(s);
s // => ManuallyDrop { value: "foo" }
let ptr = s.as_mut_ptr();
let len = s.len();
let cap = s.capacity();
ptr // => 0x7fad90405eb0
len // => 3
cap // => 3
unsafe {
    let s = String::from_raw_parts(ptr, len, cap);
    s // => "foo"
}
```
è‡ªåŠ›ã§æ–‡å­—åˆ—ä½œæˆç”¨ï¼Ÿ
 
## `?` â†’ `into_boxed_str`
```rust:Rust
let s = String::from("foo");
let x = s.into_boxed_str(); // s ã‹ã‚‰ x ã«æ‰€æœ‰æ¨©ç§»å‹•ã—ã¡ã‚ƒã£ã¦ã‚‹
x // => "foo"
```
ã©ã‚†ã“ã¨ï¼Ÿ
 
## `?` â†’ `is_char_boundary`
```rust:Rust
let s = "AğŸ¥‘B";
s.is_char_boundary(0)  // => true
s.is_char_boundary(1)  // => true
s.is_char_boundary(2)  // => false
s.is_char_boundary(3)  // => false
s.is_char_boundary(4)  // => false
s.is_char_boundary(5)  // => true
s.is_char_boundary(6)  // => true
```
æŒ‡å®šä½ç½®ã®ãƒã‚¤ãƒˆãŒUTF-8ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®æœ€åˆã®ãƒã‚¤ãƒˆã¾ãŸã¯æ–‡å­—åˆ—ã®çµ‚ã‚ã‚Šãªã‚‰ true ã‚‰ã—ã„ãŒãƒ”ãƒ³ã¨ã“ãªã„
 
## `?` â†’ `as_ptr`
```rust:Rust
let s = "foo";
s.as_ptr() // => 0x104fe24a0
```
ptr ã¯Cè¨€èªã§è¨€ã†ã¨ã“ã‚ãƒã‚¤ãƒ³ã‚¿ãªã®ã‹ãª
 
## `?` â†’ `as_mut_ptr`
```rust:Rust
let mut s = String::from("foo");
s.as_mut_ptr() // => 0x7f93f1405eb0
```
æ–‡å­—ã‚’æ›´æ–°ã™ã‚‹ã¨ãç”¨
 
