---
title: "EmacsでAtCoder環境を整えた"
emoji: "🐥"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Emacs", "AtCoder", "競プロ", "Ruby", "Rust"]
published: false
---

## はじめに

Emacs + Ruby で競プロをやるという時点で誰の参考にもならない気もするけど備忘録として書いておきます。

## atcoder-cli の導入・テスト・提出

```sh
pip3 install online-judge-tools
yarn global add atcoder-cli
acc check-oj
acc login
acc session
acc config default-test-dirname-format test
acc config default-task-choice all
acc config default-template ruby

cd ~/Library/Preferences/atcoder-cli-nodejs
mkdir ruby
cd ruby
emacsclient template.json
emacsclient main.rb

mkdir -p ~/src/procon/ruby
cd ~/src/procon/ruby
acc new math-and-algorithm
cd math-and-algorithm/001
echo "p gets.to_i + 5" > main.rb
oj t -c "ruby main.rb"
acc s main.rb -- -w 0 -y
```

```json:template.json
{
  "task":{
    "program": ["main.rb"],
    "submit": "main.rb"
  }
}
```

```ruby:main.rb
n = gets.to_i
p gets.split.take(n).map(&:to_i).sum
```

- `acc config default-test-dirname-format test` が超重要で、これをやっておかないと `oj t -c "ruby main.rb"` で動かなくてはまる(はまった)
- `oj t -c "ruby main.rb" -d tests` とやれば動くことをあとで知ったがとにかくすげーはまった
- なので最初から `test` で作るようにしておけば `-d tests` が不要になる

## cargo-compete の導入・テスト・提出




```sh
mkdir -p ~/src/procon/rust
cd ~/src/procon/rust

cargo install cargo-compete
cargo compete init atcoder
cargo compete login atcoder
rustup install 1.42.0

cargo compete new math-and-algorithm
cd math-and-algorithm
cargo compete open
cd ..

cargo compete test 001
cargo compete submit 001
# cargo compete login


